/* eslint-disable @typescript-eslint/no-loss-of-precision */

import React from "react";
import { Story, Meta } from "@storybook/react/types-6-0";

import { DigitalWallet, DigitalWalletProps } from "./DigitalWallet";
import withPadding from "../../utils/withPadding";
import { MOCK } from "./mock";

export default {
  title: "Components/DigitalWallet",
  component: DigitalWallet,
  argTypes: {},
  decorators: [withPadding],
  parameters: {
    storyshots: false,
  },
} as Meta;

const Template: Story<DigitalWalletProps> = (args) => <DigitalWallet {...args} />;

export const Primary = Template.bind({});
Primary.args = {
  data: MOCK,
};

export const Expanded = Template.bind({});
Expanded.args = {
  data: MOCK,
};

export const HeavyData = Template.bind({});

const POINTS = [
  { y: 32079.5511356260324386, x: 1624667700000 },
  { y: 31903.9413578136034866, x: 1624668000000 },
  { y: 31949.531706076602091, x: 1624668300000 },
  { y: 32064.0127151307507693, x: 1624668600000 },
  { y: 31985.2289458381400973, x: 1624668900000 },
  { y: 32026.6666570843861221, x: 1624669200000 },
  { y: 31949.765923211319404, x: 1624669500000 },
  { y: 31979.622369764271386, x: 1624669800000 },
  { y: 31924.372081508652574, x: 1624670100000 },
  { y: 31854.8041253942879383, x: 1624670400000 },
  { y: 31732.7571556754817191, x: 1624670700000 },
  { y: 31808.7541361171788045, x: 1624671000000 },
  { y: 31809.7436181579900306, x: 1624671300000 },
  { y: 31760.5312593182613471, x: 1624671600000 },
  { y: 31658.4910125192172646, x: 1624671900000 },
  { y: 31733.7903817877663018, x: 1624672200000 },
  { y: 31816.6395466985737645, x: 1624672500000 },
  { y: 31989.8361598263232019, x: 1624672800000 },
  { y: 31988.0049864425465636, x: 1624673100000 },
  { y: 32007.1289713264905358, x: 1624673400000 },
  { y: 31997.064208513640148, x: 1624673700000 },
  { y: 31937.2985212077810948, x: 1624674000000 },
  { y: 31885.1681004611799225, x: 1624674300000 },
  { y: 31894.1190566443967463, x: 1624674600000 },
  { y: 31844.7305543094658018, x: 1624674900000 },
  { y: 31737.0661267291028728, x: 1624675200000 },
  { y: 31912.9438439357414914, x: 1624675500000 },
  { y: 31961.5333145873367104, x: 1624675800000 },
  { y: 32031.6818754776980223, x: 1624676100000 },
  { y: 32016.5423914539259768, x: 1624676400000 },
  { y: 32048.7808437287070769, x: 1624676700000 },
  { y: 32107.9245033340551508, x: 1624677000000 },
  { y: 32153.0030867258666405, x: 1624677300000 },
  { y: 32114.7524922343957927, x: 1624677600000 },
  { y: 32085.2023588968082652, x: 1624677900000 },
  { y: 32115.9425649260886271, x: 1624678200000 },
  { y: 32165.4770152173156574, x: 1624678500000 },
  { y: 32127.1422338236453637, x: 1624678800000 },
  { y: 32148.747966804681304, x: 1624679100000 },
  { y: 32163.4023748219110706, x: 1624679400000 },
  { y: 32040.821613584433723, x: 1624679700000 },
  { y: 32081.2054509636259, x: 1624680000000 },
  { y: 32065.9019651427277697, x: 1624680300000 },
  { y: 32051.7945569130012892, x: 1624680600000 },
  { y: 32039.3561017595602628, x: 1624680900000 },
  { y: 32019.0759275267902127, x: 1624681200000 },
  { y: 32016.7072179738538654, x: 1624681500000 },
  { y: 32005.2075800304932907, x: 1624681800000 },
  { y: 32159.7649410311375364, x: 1624682100000 },
  { y: 32091.7651758519189403, x: 1624682400000 },
  { y: 32139.605201591522901, x: 1624682700000 },
  { y: 32273.8947240243961104, x: 1624683000000 },
  { y: 32200.9941087168264083, x: 1624683300000 },
  { y: 32317.6961320955145245, x: 1624683600000 },
  { y: 32609.1631770974245213, x: 1624683900000 },
  { y: 32571.4199058555891228, x: 1624684200000 },
  { y: 32439.3237528750134065, x: 1624684500000 },
  { y: 32430.6486708106205227, x: 1624684800000 },
  { y: 32306.7689247376243957, x: 1624685100000 },
  { y: 32387.6615147637906107, x: 1624685400000 },
  { y: 32282.9590271341806803, x: 1624685700000 },
  { y: 32218.1589509454047013, x: 1624686000000 },
  { y: 32170.1087395041116645, x: 1624686300000 },
  { y: 32231.1166043210071116, x: 1624686600000 },
  { y: 32273.1524383764079105, x: 1624686900000 },
  { y: 32308.3444951933342857, x: 1624687200000 },
  { y: 32297.5121816184485395, x: 1624687500000 },
  { y: 32428.11173393206219, x: 1624687800000 },
  { y: 32390.0925147836044861, x: 1624688100000 },
  { y: 32289.8892500289484752, x: 1624688400000 },
  { y: 32353.3072253825605648, x: 1624688700000 },
  { y: 32286.7169330499253871, x: 1624689000000 },
  { y: 32262.2197056545048927, x: 1624689300000 },
  { y: 32269.877393901421689, x: 1624689600000 },
  { y: 31961.0557123991303851, x: 1624689900000 },
  { y: 31856.25210288104584, x: 1624690200000 },
  { y: 31789.4271560614645744, x: 1624690500000 },
  { y: 31826.5252897952125051, x: 1624690800000 },
  { y: 31846.3410551726414917, x: 1624691100000 },
  { y: 31572.4049905129985868, x: 1624691400000 },
  { y: 31464.6974328310997672, x: 1624691700000 },
  { y: 31399.9788612320373292, x: 1624692000000 },
  { y: 31312.6603386871670333, x: 1624692300000 },
  { y: 31305.7684039659282894, x: 1624692600000 },
  { y: 31285.6791156645990852, x: 1624692900000 },
  { y: 31013.5015410396803826, x: 1624693200000 },
  { y: 31005.6277092926695955, x: 1624693500000 },
  { y: 31010.4807117740870622, x: 1624693800000 },
  { y: 30834.4300750841069177, x: 1624694100000 },
  { y: 30814.8282101279984246, x: 1624694400000 },
  { y: 30766.71619864400833, x: 1624694700000 },
  { y: 30542.4580904992999573, x: 1624695000000 },
  { y: 30446.670463424320645, x: 1624695300000 },
  { y: 30357.2911227489034946, x: 1624695600000 },
  { y: 30387.1920091191182367, x: 1624695900000 },
  { y: 30439.3205400938937036, x: 1624696200000 },
  { y: 30689.4180385344659858, x: 1624696500000 },
  { y: 30599.9443733888453501, x: 1624696800000 },
  { y: 30443.9186621119267162, x: 1624697100000 },
  { y: 30487.8958812150481995, x: 1624697400000 },
  { y: 30478.3747167607452902, x: 1624697700000 },
  { y: 30471.1661419182080041, x: 1624698000000 },
  { y: 30474.6533735813702949, x: 1624698300000 },
  { y: 30485.4204409761261412, x: 1624698600000 },
  { y: 30444.613951792981574, x: 1624698900000 },
  { y: 30473.5937048744569334, x: 1624699200000 },
  { y: 30545.4200950046988383, x: 1624699500000 },
  { y: 30622.3153636954578345, x: 1624699800000 },
  { y: 30819.9836270005465908, x: 1624700100000 },
  { y: 31041.0503874582844905, x: 1624700400000 },
  { y: 30986.1522691451267392, x: 1624700700000 },
  { y: 31003.0981531188435855, x: 1624701000000 },
  { y: 31145.2697069200614067, x: 1624701300000 },
  { y: 31110.1295697597757255, x: 1624701600000 },
  { y: 31214.7702897246795481, x: 1624701900000 },
  { y: 31115.002483319116667, x: 1624702200000 },
  { y: 31086.640866461019774, x: 1624702500000 },
  { y: 31151.1964289601215373, x: 1624702800000 },
  { y: 31163.3036295940330221, x: 1624703100000 },
  { y: 31159.2742083890302528, x: 1624703400000 },
  { y: 31118.0913196101843979, x: 1624703700000 },
  { y: 31114.3537328157053077, x: 1624704000000 },
  { y: 31000.1604374966214058, x: 1624704300000 },
  { y: 30989.4258820592718078, x: 1624704600000 },
  { y: 31003.5534392771208703, x: 1624704900000 },
  { y: 31143.1673984813359112, x: 1624705200000 },
  { y: 31368.906316530628927, x: 1624705500000 },
  { y: 31418.4221014738543564, x: 1624705800000 },
  { y: 31545.100053935991297, x: 1624706100000 },
  { y: 31605.8822122830293119, x: 1624706400000 },
  { y: 31548.1529513016099236, x: 1624706700000 },
  { y: 31490.4035819308280926, x: 1624707000000 },
  { y: 31510.2652889352974334, x: 1624707300000 },
  { y: 31549.8125813511797249, x: 1624707600000 },
  { y: 31637.6822107178305819, x: 1624707900000 },
  { y: 31741.4220810078009901, x: 1624708200000 },
  { y: 31834.7748236182065998, x: 1624708500000 },
  { y: 31828.047378638661594, x: 1624708800000 },
  { y: 31784.6869072641008679, x: 1624709100000 },
  { y: 31731.7973328347092753, x: 1624709400000 },
  { y: 31674.922679250884712, x: 1624709700000 },
  { y: 31605.9123273863781602, x: 1624710000000 },
  { y: 31693.5894674759298718, x: 1624710300000 },
  { y: 31812.9363546776233015, x: 1624710600000 },
  { y: 31804.8926951434204332, x: 1624710900000 },
  { y: 31885.118536843842731, x: 1624711200000 },
  { y: 31830.6703482286021447, x: 1624711500000 },
  { y: 31759.7828904267090833, x: 1624711800000 },
  { y: 31647.7738458849168147, x: 1624712100000 },
  { y: 31462.8847531802576798, x: 1624712400000 },
  { y: 31470.4162802713895169, x: 1624712700000 },
  { y: 31480.5688541462677726, x: 1624713000000 },
  { y: 31522.4716725101196518, x: 1624713300000 },
  { y: 31689.5136987409258589, x: 1624713600000 },
  { y: 31627.5425723868180643, x: 1624713900000 },
  { y: 31592.6374855597387231, x: 1624714200000 },
  { y: 31487.2725133696865966, x: 1624714500000 },
  { y: 31428.1589345277236881, x: 1624714800000 },
  { y: 31243.5016074694849898, x: 1624715100000 },
  { y: 31009.2661893203479204, x: 1624715400000 },
  { y: 30935.9662310371760115, x: 1624715700000 },
  { y: 30944.9837250327356503, x: 1624716000000 },
  { y: 30777.345104268311536, x: 1624716300000 },
  { y: 30776.8917826120829441, x: 1624716600000 },
  { y: 30736.5203945359831923, x: 1624716900000 },
  { y: 30865.1761523700663431, x: 1624717200000 },
  { y: 30820.98912412661225, x: 1624717500000 },
  { y: 30919.6173437739820669, x: 1624717800000 },
  { y: 31011.2930775582828234, x: 1624718100000 },
  { y: 30973.5114284745418993, x: 1624718400000 },
  { y: 31040.478527013704933, x: 1624718700000 },
  { y: 31045.5999028286575177, x: 1624719000000 },
  { y: 31304.0218720080590598, x: 1624719300000 },
  { y: 31331.8871718683397944, x: 1624719600000 },
  { y: 31133.938446489946239, x: 1624719900000 },
  { y: 31135.4261271004403183, x: 1624720200000 },
  { y: 31223.7709136549099751, x: 1624720500000 },
  { y: 31158.7819513400239083, x: 1624720800000 },
  { y: 31152.3647750317708749, x: 1624721100000 },
  { y: 31194.9474563588370196, x: 1624721400000 },
  { y: 31242.6460608836864342, x: 1624721700000 },
  { y: 31186.8296731801483511, x: 1624722000000 },
  { y: 31274.3974827691049109, x: 1624722300000 },
  { y: 31352.1247388602999169, x: 1624722600000 },
  { y: 31458.9206085273427567, x: 1624722900000 },
  { y: 31543.7701197401051128, x: 1624723200000 },
  { y: 31453.4063943208804726, x: 1624723500000 },
  { y: 31409.8733352299486893, x: 1624723800000 },
  { y: 31229.4040851037855545, x: 1624724100000 },
  { y: 31054.8379877329532595, x: 1624724400000 },
  { y: 31045.5879548824071751, x: 1624724700000 },
  { y: 31064.0951914794704776, x: 1624725000000 },
  { y: 31056.8373752165812083, x: 1624725300000 },
  { y: 31070.1378655986283022, x: 1624725600000 },
  { y: 31114.4121384840397179, x: 1624725900000 },
  { y: 31158.5519666158820625, x: 1624726200000 },
  { y: 31255.2305117984079016, x: 1624726500000 },
  { y: 31316.7075613517339202, x: 1624726800000 },
  { y: 31361.0352484988628495, x: 1624727100000 },
  { y: 31394.782521085642389, x: 1624727400000 },
  { y: 31384.5678061152194784, x: 1624727700000 },
  { y: 31330.438944957666578, x: 1624728000000 },
  { y: 31291.5971390232649874, x: 1624728300000 },
  { y: 31310.3818613447017094, x: 1624728600000 },
  { y: 31316.5449607575366305, x: 1624728900000 },
  { y: 31249.3463337261931203, x: 1624729200000 },
  { y: 31292.5932481272548043, x: 1624729500000 },
  { y: 31382.0977334862102209, x: 1624729800000 },
  { y: 31505.2448038873444718, x: 1624730100000 },
  { y: 31682.7659585027393187, x: 1624730400000 },
  { y: 31666.8039473345078796, x: 1624730700000 },
  { y: 31635.6857974856607233, x: 1624731000000 },
  { y: 31779.4472172379975348, x: 1624731300000 },
  { y: 31766.6509737225121049, x: 1624731600000 },
  { y: 31782.9272510521133302, x: 1624731900000 },
  { y: 31742.8388357754937674, x: 1624732200000 },
  { y: 31688.3729581260095031, x: 1624732500000 },
  { y: 31759.2365879764928995, x: 1624732800000 },
  { y: 31672.8489876899848511, x: 1624733100000 },
  { y: 31655.896063948729039, x: 1624733400000 },
  { y: 31655.2679243432344581, x: 1624733700000 },
  { y: 31619.4832726386206482, x: 1624734000000 },
  { y: 31689.8702874484690531, x: 1624734300000 },
  { y: 31753.5775419697658726, x: 1624734600000 },
  { y: 31730.2542571093958285, x: 1624734900000 },
  { y: 31676.1483066504869128, x: 1624735200000 },
  { y: 31657.5663714472554806, x: 1624735500000 },
  { y: 31635.6186633293888392, x: 1624735800000 },
  { y: 31614.0255818422904524, x: 1624736100000 },
  { y: 31626.0456379779132173, x: 1624736400000 },
  { y: 31648.5093161278584613, x: 1624736700000 },
  { y: 31597.754928362494498, x: 1624737000000 },
  { y: 31640.9005511306470959, x: 1624737300000 },
  { y: 31610.0474233198847839, x: 1624737600000 },
  { y: 31524.3062604273922076, x: 1624737900000 },
  { y: 31424.6573013081313646, x: 1624738200000 },
  { y: 31403.816760553869015, x: 1624738500000 },
  { y: 31211.1607641394998605, x: 1624738800000 },
  { y: 31257.2106562780541646, x: 1624739100000 },
  { y: 31326.5415696597664555, x: 1624739400000 },
  { y: 31342.1173494889817025, x: 1624739700000 },
  { y: 31306.8701033955306645, x: 1624740000000 },
  { y: 31344.1518084789394866, x: 1624740300000 },
  { y: 31382.1329335107675682, x: 1624740600000 },
  { y: 31292.9585293243681953, x: 1624740900000 },
  { y: 31332.9820587632385462, x: 1624741200000 },
  { y: 31236.1492373502482062, x: 1624741500000 },
  { y: 31145.7716742279580882, x: 1624741800000 },
  { y: 31099.4595021657841214, x: 1624742100000 },
  { y: 31125.1836329237761076, x: 1624742400000 },
  { y: 31171.4799744372833798, x: 1624742700000 },
  { y: 31115.2465857108367701, x: 1624743000000 },
  { y: 31211.5852155360825902, x: 1624743300000 },
  { y: 31245.8558887470032113, x: 1624743600000 },
  { y: 31245.4644111161685543, x: 1624743900000 },
  { y: 31344.5291710166931972, x: 1624744200000 },
  { y: 31361.8779490579240691, x: 1624744500000 },
  { y: 31415.9295398793083211, x: 1624744800000 },
  { y: 31480.6857622602357843, x: 1624745100000 },
  { y: 31526.7677692045448461, x: 1624745400000 },
  { y: 31602.1597578079165488, x: 1624745700000 },
  { y: 31558.399743781703277, x: 1624746000000 },
  { y: 31577.2192661494750166, x: 1624746300000 },
  { y: 31566.339462151416055, x: 1624746600000 },
  { y: 31655.8243377447226383, x: 1624746900000 },
  { y: 31689.5536345791137214, x: 1624747200000 },
  { y: 31742.1976324846979976, x: 1624747500000 },
  { y: 31733.5538120969558134, x: 1624747800000 },
  { y: 31732.4923402614115986, x: 1624748100000 },
  { y: 31786.4227311495214419, x: 1624748400000 },
  { y: 31718.0004911082826045, x: 1624748700000 },
  { y: 31826.8554277501497359, x: 1624749000000 },
  { y: 31886.82866215113536, x: 1624749300000 },
  { y: 31832.7068699131427132, x: 1624749600000 },
  { y: 31816.5770783103768399, x: 1624749900000 },
  { y: 31783.0727570081535221, x: 1624750200000 },
  { y: 31811.6363041747591535, x: 1624750500000 },
  { y: 31790.7657872104825006, x: 1624750800000 },
  { y: 31862.4000595158049593, x: 1624751100000 },
  { y: 31888.8320673206625469, x: 1624751400000 },
  { y: 31909.4966954542177905, x: 1624751700000 },
  { y: 32088.0637285621651526, x: 1624752000000 },
  { y: 32121.8479696346870503, x: 1624752300000 },
  { y: 32092.1521683506535344, x: 1624752600000 },
  { y: 32345.3538161151074521, x: 1624752900000 },
  { y: 32432.2604503172171418, x: 1624753200000 },
  { y: 32431.1538984872252732, x: 1624753500000 },
  { y: 32493.1513340495359027, x: 1624753800000 },
];

type MinMax = { maxValue: number; minValue: number; minDate: number; maxDate: number };
const minMax: MinMax = (() =>
  POINTS.reduce((current, next) => {
    if (!current.maxValue || current.maxValue < next.y) {
      current.maxValue = next.y;
    }
    if (!current.minValue || current.minValue > next.y) {
      current.minValue = next.y;
    }
    if (!current.maxDate || current.maxDate < next.x) {
      current.maxDate = next.x;
    }
    if (!current.minDate || current.minDate > next.x) {
      current.minDate = next.x;
    }

    return current;
  }, {} as MinMax))();

HeavyData.args = {
  data: {
    start: minMax.minDate,
    end: minMax.maxDate,
    firstValidPointIndex: 0,
    maxValue: minMax.maxValue!,
    minValue: minMax.minValue!,
    points: POINTS,
  },
};
/* eslint-enable @typescript-eslint/no-loss-of-precision */
